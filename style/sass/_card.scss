@import "border";
@import "color";
@import "font";
@import "flexbox";
@import "margin";
@import "position";
@import "image";
@import "padding";
@import "width";
@import "height";
@import "utility";

%card-shared {
  @include d-flex();
  @include height(100%);
  @include position(relative);
  @include f-dir-col();
  background-clip: border-box;
  overflow: hidden;
  &%-h-shared {
    @include f-dir-row-reverse();
    @include flex-wrap(wrap);
    & .card-header {
      @include height(50%);
      @include items-start();
      -webkit-box-flex: 0;
      -ms-flex: 0 1 50%;
      flex: 0 1 50%;
      max-width: 50%;
    }
    & .card-img-container {
      flex: 0 1 50%;
    }
    & .card-footer {
      @include items-end();
      @include padding(1rem);
      @include position(absolute);
      bottom: 0;
      @include height(50%);
      width: 50%;
    }
  }
  &%-l-shared {
    @include f-dir-row-reverse();
    @include flex-wrap(wrap);
    & .card-header {
      @include align-items(center);
      @include height(50%);
      -webkit-box-flex: 0;
      -ms-flex: 0 1 75%;
      flex: 0 1 75%;
      max-width: 75%;
    }
    & .card-title {
      font-size: 1.6rem;
    }
    & .card-img-container {
      flex: 0 1 25%;
    }
    & .card-footer {
      @include align-items(center);
      @include height(50%);
      @include padding(1rem);
      @include position(absolute);
      bottom: 0;
      width: 75%;
    }
  }
}
%card-img-shared {
  @include width(100%);
}
%card-header-shared {
  @include d-flex();
  @include justify-between();
  @include padding(1rem);
  @include align-items(center);
}
%card-title-shared {
  @include text-transform(capitalize);
  @include text-ellipsis();
  font-size: 2.4rem;
  font-weight: 300;
}
%card-body-shared {
  @include f-dir-col();
  @include position(absolute);
  @include height(100%);
  @include padding(1rem 1rem 1rem);
  @include width(100%);
  overflow-y: scroll;
  right: 0;
  top: 0;
  z-index: 1;
}
%card-body-header-shared {
  @include d-flex();
  @include justify-between();
  @include align-items(center);
  @include padding-direction(bottom, 1rem);
}
%card-body-header-shared {
  @include text-transform(capitalize);
  font-size: 2.4rem;
  font-weight: 300;
}
%card-body-text-shared {
  @include margin(1rem 0);
}
%card-body-footer-shared {
  @include d-flex();
  @include justify-between();
  @include align-items(center);
  @include margin-direction(top, auto);
  @include padding-direction(top, 2rem);
}
%card-footer-shared {
  @include d-flex();
  @include justify-between();
  @include align-items(center);
  @include padding(1.5rem 1rem);
}
%card-info-text-shared {
  font-size: 1.6rem;
  font-weight: 300;
}
%card-footer-cta-shared {
  @include padding(0);
}

.card {
  @extend %card-shared;
  &-header {
    @extend %card-header-shared;
  }
  &-img {
    @extend %card-img-shared;
  }
  &-title {
    @extend %card-title-shared;
  }
  &-body {
    @extend %card-body-shared;
    &-header {
      @extend %card-body-header-shared;
    }
    &-text {
      @extend %card-body-text-shared;
    }
    &-footer {
      @extend %card-body-footer-shared;
    }
  }
  &-footer {
    @extend %card-footer-shared;
    &-cta {
      @extend %card-footer-cta-shared;
    }
  }
  &-info-text {
    @extend %card-info-text-shared;
  }
  &-h {
    @extend %-h-shared;
  }
  &-l {
    @extend %-l-shared;
  }
}

@media (prefers-color-scheme: dark) {
  .card,
  .card-footer,
  .card-body {
    background-color: $black-light;
  }

  .card-header-cta,
  .card-footer-cta,
  .card-title,
  .card-body-text {
    color: $text-dark;
  }
  .card-header {
    background-color: $black-medium;
  }
  .card-header-cta {
    background-color: $black-ultra-light;
  }
  .card-footer-cta,
  .card-body-info-qty-cta {
    background-color: $transparent;
  }
}

@media (prefers-color-scheme: light) {
  .card,
  .card-header {
    background-color: $white-medium;
  }
  .card-body,
  .card-footer {
    background-color: $white-light;
  }
  .card-info-text,
  .card-header-cta,
  .card-footer-cta,
  .card-title,
  .card-body-text {
    color: $text-light;
  }
  .card-header-cta {
    background-color: $white-ultra-light;
  }
  .card-footer-cta,
  .card-body-info-qty-cta {
    background-color: $transparent;
  }
}
