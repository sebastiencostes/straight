@use "font" as f;
@use "color" as c;
@use "height" as h;
@use "flexbox" as fx;
@use "margin" as m;
@use "padding" as p;
@use "position" as pos;
@use "utility" as u;
@use "width" as w;
@use "z-index" as z;

%card-shared {
  @include fx.d-flex();
  @include h.height(100%);
  @include pos.position(relative);
  @include fx.f-dir-col();
  background-clip: border-box;
  overflow: hidden;
  &%-h-shared {
    @include fx.f-dir-row-reverse();
    @include fx.flex-wrap(wrap);
    & .card-header {
      @include h.height(50%);
      @include w.max-width(50%);
      @include fx.items-start();
      -webkit-box-flex: 0;
      -ms-flex: 0 1 50%;
      flex: 0 1 50%;
    }
    & .card-title {
      font-size: clamp(1.6rem, 1.5386rem + 0.2193vw, 2.1rem);
    }
    & .card-img-container {
      -webkit-box-flex: 0;
      -ms-flex: 0 1 50%;
      flex: 0 1 50%;
    }
    & .card-footer {
      @include fx.items-end();
      @include p.padding(1rem);
      @include pos.position(absolute);
      @include h.height(50%);
      @include w.width(50%);
      bottom: 0;
    }
  }
  &%-l-shared {
    @include fx.f-dir-row-reverse();
    @include fx.flex-wrap(wrap);
    & .card-header {
      @include fx.align-items(center);
      @include h.height(50%);
      @include w.max-width(75%);
      -webkit-box-flex: 0;
      -ms-flex: 0 1 75%;
      flex: 0 1 75%;
    }
    & .card-title {
      font-size: clamp(1.6rem, 1.5386rem + 0.2193vw, 2.1rem);
    }
    & .card-img-container {
      -webkit-box-flex: 0;
      -ms-flex: 0 1 25%;
      flex: 0 1 25%;
    }
    & .card-footer {
      @include fx.align-items(center);
      @include h.height(50%);
      @include p.padding(1rem);
      @include pos.position(absolute);
      @include w.width(75%);
      bottom: 0;
    }
  }
}
%card-img-shared {
  @include w.width(100%);
}
%card-header-shared {
  @include fx.d-flex();
  @include fx.justify-between();
  @include p.padding(1rem);
  @include fx.align-items(center);
}
%card-title-shared {
  font-size: clamp(2.4rem, 2.3263rem + 0.2632vw, 3rem);
  &::first-letter {
    @include f.text-transform(capitalize);
  }
}
%card-body-shared {
  @include fx.f-dir-col();
  @include pos.position(absolute);
  @include h.height(100%);
  @include p.padding(1rem 2rem 1rem);
  @include w.width(100%);
  @include z.z-index(1);
  overflow-y: scroll;
  right: 0;
  top: 0;
}
%card-body-header-shared {
  @include fx.d-flex();
  @include fx.justify-between();
  @include fx.items-start();
}
%card-body-title-shared {
  font-size: clamp(2.4rem, 2.3263rem + 0.2632vw, 3rem);
  &::first-letter {
    @include f.text-transform(capitalize);
  }
}
%card-body-text-shared {
  @include m.margin(1rem 0);
  &::first-letter {
    @include f.text-transform(capitalize);
  }
}
%card-body-footer-shared {
  @include fx.d-flex();
  @include fx.justify-between();
  @include fx.align-items(center);
  @include m.margin-direction(top, auto);
}
%card-footer-shared {
  @include fx.d-flex();
  @include fx.justify-between();
  @include fx.align-items(center);
  @include p.padding(1rem);
}
%card-info-text-shared {
  cursor: default;
}
%card-footer-cta-shared {
  @include p.padding(0);
}

.card {
  @extend %card-shared;
  &-header {
    @extend %card-header-shared;
  }
  &-img {
    @extend %card-img-shared;
  }
  &-title {
    @extend %card-title-shared;
  }
  &-body {
    @extend %card-body-shared;
    &-header {
      @extend %card-body-header-shared;
    }
    &-title {
      @extend %card-body-title-shared;
    }
    &-text {
      @extend %card-body-text-shared;
    }
    &-footer {
      @extend %card-body-footer-shared;
    }
  }
  &-footer {
    @extend %card-footer-shared;
    &-cta {
      @extend %card-footer-cta-shared;
    }
  }
  &-info-text {
    @extend %card-info-text-shared;
  }
  &-h {
    @extend %-h-shared;
  }
  &-l {
    @extend %-l-shared;
  }
}

/*
Theme
*/
@include c.dark-theme {
  .card {
    background-color: c.$black-light;
    &-header {
      background-color: c.$black-medium;
      color: c.$text-dark;
      &-cta {
        background-color: c.$black-ultra-light;
      }
    }
    &-title {
      color: c.$text-dark;
    }
    &-footer {
      background-color: c.$black-light;
      &-cta {
        background-color: c.$transparent;
        color: c.$text-dark;
      }
    }
    &-body {
      background-color: c.$black-light;
      &-text {
        color: c.$text-dark;
      }
      &-info-qty-cta {
        background-color: c.$transparent;
      }
    }
  }
}

@include c.light-theme {
  .card {
    background-color: c.$white-medium;
    &-header {
      background-color: c.$white-medium;
      &-cta {
        background-color: c.$white-ultra-light;
        color: c.$text-light;
      }
    }
    &-title {
      color: c.$text-light;
    }
    &-body {
      background-color: c.$white-light;
      &-text {
        color: c.$text-light;
      }
      &-info-qty-cta {
        background-color: c.$transparent;
      }
    }
    &-footer {
      background-color: c.$white-light;
      &-cta {
        background-color: c.$transparent;
        color: c.$text-light;
      }
    }
    &-info-text {
      color: c.$text-light;
    }
  }
}
